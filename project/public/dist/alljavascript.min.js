var app={};!function(){app=angular.module("MainApp",["ngRoute","ngSanitize","ngResource","ngAnimate","mgcrea.ngStrap"]),app.config(["$routeProvider","$locationProvider",function(e,n){n.html5Mode(!1).hashPrefix("!"),e.when("/",{templateUrl:"/views/index.html",controller:"mainCtrl"}).when("/sample",{templateUrl:"/views/sample/sample.html",controller:"sampleCtrl"}).when("/scrub",{templateUrl:"/views/ScrubDomain/scrubdomain.html",controller:"scrubCtrl"}).when("/verification",{templateUrl:"/views/Vertification/VertifiCation.html",controller:"verificationCtrl"}).otherwise({redirectTo:"/"})}])}();var spinner={},token="XXX";!function(){toastr.options={closeButton:!1,debug:!1,progressBar:!1,positionClass:"toast-bottom-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var e={lines:11,length:23,width:8,radius:40,corners:1,rotate:9,color:"#FFF",speed:1,trail:50,shadow:!1,hwaccel:!0,zIndex:2e9,top:"50%",left:"50%"},n=null;spinner.show=function(){var t=document.getElementById("spinner");null==n?n=new Spinner(e).spin(t):n.spin(t),$.blockUI({message:null,overlayCSS:{backgroundColor:"#5c5c5c"}})},spinner.hide=function(){var e=document.getElementById("spinner");n.stop(e),$.unblockUI()}}(),function(){app.controller("globalCtrl",["$scope",function(e){e.pageData=[{Name:"Home"},{Name:"Sample"}],e.directiveTest="HELLO WORLD"}])}(),function(){app.directive("directiveSample",function(){return{restrict:"AEC",replace:!0,require:"ngModel",scope:!0,link:function(e,n,t,r){r.$render=function(){n.empty(),n.append(r.$viewValue)}}}})}(),function(){Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this},app.filter("DateTrick",function(){return function(e){if(null!==e){var n=e.addHours(7);return n}return{}}})}(),function(){app.controller("scrubCtrl",["$scope","$modal","scrubService",function(e,n,t){e.Scrub={},e.setScrubDomain=function(){var e="C:/Users/biw/Desktop/ScrubFile/scrubExport.txt";t.setScrubDomain(e).then(function(e){console.log(e)})}}])}(),function(){app.factory("scrubService",["$http","$q",function(e,n){var t={};return t.setScrubDomain=function(t){spinner.show();var r=n.defer();return e({method:"POST",url:"/scrub/setScrubDomain",contentType:"application/json; charset=utf-8",data:{filepath:t},dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),r.resolve(e)}).error(function(e){spinner.hide(),r.reject(e)}),r.promise},t}])}(),!function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){!function(){throw new Error('Cannot find module "babel-polyfill"')}(),function(){throw new Error('Cannot find module "/project/public/js/app.js"')}()}]),function(){app.factory("searchEngineService",["$http","$q",function(e,n){var t={};return t.addKeyword=function(t){spinner.show();var r=n.defer();return console.log(t),e({method:"POST",url:"/searchengine/addKeyword",contentType:"application/json; charset=utf-8",data:t,dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),r.resolve(e)}).error(function(e){spinner.hide(),r.reject(e)}),r.promise},t}])}(),function(){app.controller("verificationCtrl",["$scope","$modal","verificationService",function(e,n,t){e.setFilePath=function(){var e=document.getElementById("exampleInputFile").value;if(void 0!==e&&""!=e){var n=e.split("\\"),r="D:/"+n[2];console.log(r),t.FindThisData(r).then(function(e){console.log(e)})}}}])}(),function(){app.factory("verificationService",["$http","$q",function(e,n){var t={};return t.FindThisData=function(t){spinner.show();var r=n.defer();return e({method:"POST",url:"/verification/FindThisData",contentType:"application/json; charset=utf-8",data:{filepath:t},dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),r.resolve(e)}).error(function(e){spinner.hide(),r.reject(e)}),r.promise},t}])}(),function(){app.controller("mainCtrl",["$scope","mainService",function(e,n){e.activePage=1,e.initMT=function(){n.GetSample().then(function(n){e.testData=n})}}])}(),function(){app.factory("mainService",["$http","$q",function(e,n){var t={};return t.GetSample=function(){spinner.show();var t=n.defer();return e({method:"GET",url:"/sample"}).success(function(e){spinner.hide(),t.resolve(e)}).error(function(e){spinner.hide(),t.reject(e)}),t.promise},t}])}(),function(){app.controller("sampleCtrl",["$scope","$modal","sampleService",function(e,n,t){e.activePage=2,e.readSampleData=[],e.createSample=function(){t.createSample().then(function(n){"ERROR"!=n?(toastr.success("การบันทึกสำเร็จ","การบันทึกข้อมูล"),e.readSampleData.push(n)):toastr.warning("การบันทึกผิดพลาด"+n,"การบันทึกข้อมูล")})},e.createNewSample=function(){t.createNewSample(e.modalData).then(function(n){"ERROR"!=n?(toastr.success("การบันทึกสำเร็จ","การบันทึกข้อมูล"),e.readSampleData.push(n)):toastr.warning("การปรับปรุงผิดพลาด"+n,"การปรับปรุงผิดพลาด")})},e.modalData={},e.read=function(e,n){t.readSample(e).then(function(e){n(e)})},e.readAllSample=function(){t.readAllSample().then(function(n){"ERROR"!=n?e.readSampleData=n:toastr.warning("การอ่านข้อมูลผิดพลาด"+n,"การอ่านข้อมูลผิดพลาด")})},e.updateSample=function(){var n=e.currentID,r=e.currentIndex;t.updateSample(e.modalData,n).then(function(n){"ERROR"!=n?e.readSampleData[r]=e.modalData:toastr.warning("การปรับปรุงผิดพลาด"+n,"การปรับปรุงผิดพลาด")})},e.deleteConfirm=function(t,r){e.currentID=t,e.currentIndex=r,n({scope:e,template:"/views/sample/modal/sampleConfirm.html",show:!0})},e.deleteSample=function(){var n=e.currentID,r=e.currentIndex;t.deleteSample(n).then(function(n){"ERROR"!=n?e.readSampleData.splice(r,1):toastr.warning("การลบผิดพลาด"+n,"การลบผิดพลาด")})},e.checkData=function(){switch(e.modalMode){case"create":e.createNewSample();break;case"edit":e.updateSample()}},e.showSample=function(t,r,a){e.modalMode=t,e.currentID=r,e.currentIndex=a;var o=n({scope:e,template:"/views/sample/modal/sampleModal.html",show:!1});switch(t){case"create":e.modalData={},e.modalData.readOnly=!1,o.$promise.then(o.show);break;case"show":e.read(r,function(n){"ERROR"!=n?(o.$promise.then(o.show),e.modalData=n,e.modalData.bCreate=JSON.parse(n.bCreate),e.modalData.readOnly=!0):toastr.warning("การอ่านข้อมูลผิดพลาด"+n,"การอ่านข้อมูลผิดพลาด")});break;case"edit":e.read(r,function(n){"ERROR"!=n?(o.$promise.then(o.show),e.modalData=n,e.modalData.bCreate=JSON.parse(n.bCreate),e.modalData.readOnly=!1):toastr.warning("การอ่านข้อมูลผิดพลาด"+n,"การอ่านข้อมูลผิดพลาด")})}}}])}(),function(){app.factory("sampleService",["$http","$q",function(e,n){var t={};return t.createSample=function(){spinner.show();var t=n.defer();return e({method:"GET",url:"/sample/create",contentType:"application/json; charset=utf-8",dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),t.resolve(e)}).error(function(e){spinner.hide(),t.reject(e)}),t.promise},t.createNewSample=function(t){spinner.show();var r=n.defer();return e({method:"POST",url:"/sample/createnew",contentType:"application/json; charset=utf-8",data:{Name:t.Name,bCreate:t.bCreate},dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),r.resolve(e)}).error(function(e){spinner.hide(),r.reject(e)}),r.promise},t.readAllSample=function(){spinner.show();var t=n.defer();return e({method:"GET",url:"/sample/read",contentType:"application/json; charset=utf-8",dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),t.resolve(e)}).error(function(e){spinner.hide(),t.reject(e)}),t.promise},t.deleteSample=function(t){spinner.show();var r=n.defer();return e({method:"GET",url:"/sample/delete/"+t,contentType:"application/json; charset=utf-8",dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),r.resolve(e)}).error(function(e){spinner.hide(),r.reject(e)}),r.promise},t.readSample=function(t){spinner.show();var r=n.defer();return e({method:"GET",url:"/sample/read/"+t,contentType:"application/json; charset=utf-8",dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),r.resolve(e)}).error(function(e){spinner.hide(),r.reject(e)}),r.promise},t.updateSample=function(t,r){spinner.show();var a=n.defer();return e({method:"POST",url:"/sample/update/"+r,data:{Name:t.Name,bCreate:t.bCreate},contentType:"application/json; charset=utf-8",dataType:"json",headers:{RequestVerificationToken:token}}).success(function(e){spinner.hide(),a.resolve(e)}).error(function(e){spinner.hide(),a.reject(e)}),a.promise},t}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbGphdmFzY3JpcHQuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJodG1sNU1vZGUiLCJoYXNoUHJlZml4Iiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJzcGlubmVyIiwidG9rZW4iLCJ0b2FzdHIiLCJvcHRpb25zIiwiY2xvc2VCdXR0b24iLCJkZWJ1ZyIsInByb2dyZXNzQmFyIiwicG9zaXRpb25DbGFzcyIsIm9uY2xpY2siLCJzaG93RHVyYXRpb24iLCJoaWRlRHVyYXRpb24iLCJ0aW1lT3V0IiwiZXh0ZW5kZWRUaW1lT3V0Iiwic2hvd0Vhc2luZyIsImhpZGVFYXNpbmciLCJzaG93TWV0aG9kIiwiaGlkZU1ldGhvZCIsIm9wdFNwaW5lck1vZGFsIiwibGluZXMiLCJsZW5ndGgiLCJ3aWR0aCIsInJhZGl1cyIsImNvcm5lcnMiLCJyb3RhdGUiLCJjb2xvciIsInNwZWVkIiwidHJhaWwiLCJzaGFkb3ciLCJod2FjY2VsIiwiekluZGV4IiwidG9wIiwibGVmdCIsInNwaW5uZXJPYmoiLCJzaG93Iiwic3Bpbm5lcl9kaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiU3Bpbm5lciIsInNwaW4iLCIkIiwiYmxvY2tVSSIsIm1lc3NhZ2UiLCJvdmVybGF5Q1NTIiwiYmFja2dyb3VuZENvbG9yIiwiaGlkZSIsInN0b3AiLCJ1bmJsb2NrVUkiLCIkc2NvcGUiLCJwYWdlRGF0YSIsIk5hbWUiLCJkaXJlY3RpdmVUZXN0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwicmVxdWlyZSIsInNjb3BlIiwibGluayIsImVsZW1lbnQiLCJhdHRyIiwibmdNb2RlbCIsIiRyZW5kZXIiLCJlbXB0eSIsImFwcGVuZCIsIiR2aWV3VmFsdWUiLCJEYXRlIiwicHJvdG90eXBlIiwiYWRkSG91cnMiLCJoIiwidGhpcyIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJmaWx0ZXIiLCJpbnB1dCIsIkRhdGVDYWwiLCIkbW9kYWwiLCJzY3J1YlNlcnZpY2UiLCJTY3J1YiIsInNldFNjcnViRG9tYWluIiwiRmlsZXBhdGgiLCJ0aGVuIiwiZmlsZXBhdGgiLCJjb25zb2xlIiwibG9nIiwiZmFjdG9yeSIsIiRodHRwIiwiJHEiLCJ0aGlzZmFjdCIsIm9iaiIsImRlZmVyIiwibWV0aG9kIiwidXJsIiwiY29udGVudFR5cGUiLCJkYXRhIiwiZGF0YVR5cGUiLCJoZWFkZXJzIiwiUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuIiwic3VjY2VzcyIsInJlc29sdmUiLCJlcnJvciIsInJlamVjdCIsInByb21pc2UiLCJuIiwiciIsIm8iLCJ0IiwiZXhwb3J0cyIsImUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJfX2VzTW9kdWxlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkVycm9yIiwiYWRkS2V5d29yZCIsInZlcmlmaWNhdGlvblNlcnZpY2UiLCJzZXRGaWxlUGF0aCIsImdldGZpbGVwYXRoIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJmaWxlIiwic3BsaXQiLCJGaW5kVGhpc0RhdGEiLCJtYWluU2VydmljZSIsImFjdGl2ZVBhZ2UiLCJpbml0TVQiLCJHZXRTYW1wbGUiLCJ0ZXN0RGF0YSIsImVyciIsInNhbXBsZVNlcnZpY2UiLCJyZWFkU2FtcGxlRGF0YSIsImNyZWF0ZVNhbXBsZSIsInJlc3VsdCIsInB1c2giLCJ3YXJuaW5nIiwiY3JlYXRlTmV3U2FtcGxlIiwibW9kYWxEYXRhIiwicmVhZCIsImlkIiwiY2IiLCJyZWFkU2FtcGxlIiwicmVhZEFsbFNhbXBsZSIsInVwZGF0ZVNhbXBsZSIsImN1cnJlbnRJRCIsImluZGV4IiwiY3VycmVudEluZGV4IiwiZGVsZXRlQ29uZmlybSIsInRlbXBsYXRlIiwiZGVsZXRlU2FtcGxlIiwic3BsaWNlIiwiY2hlY2tEYXRhIiwibW9kYWxNb2RlIiwic2hvd1NhbXBsZSIsInR5cGUiLCJteU90aGVyTW9kYWwiLCJyZWFkT25seSIsIiRwcm9taXNlIiwiYkNyZWF0ZSIsIkpTT04iLCJwYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsU0FDSixXQUNRQSxJQUFNQyxRQUFRQyxPQUFPLFdBQVksVUFBVyxhQUFjLGFBQWMsWUFBYSxtQkFDckZGLElBQUlHLFFBQUEsaUJBQUEsb0JBQU8sU0FBVUMsRUFBZ0JDLEdBQ2pDQSxFQUFrQkMsV0FBVSxHQUFPQyxXQUFXLEtBQzlDSCxFQUNDSSxLQUFLLEtBQ0ZDLFlBQWEsb0JBQXFCQyxXQUFZLGFBQy9DRixLQUFLLFdBQ0pDLFlBQWEsNEJBQTZCQyxXQUFZLGVBQ3ZERixLQUFLLFVBQ0pDLFlBQWEsc0NBQXVDQyxXQUFZLGNBQ2pFRixLQUFLLGlCQUNKQyxZQUFhLDBDQUEyQ0MsV0FBWSxxQkFDckVDLFdBQ0NDLFdBQVksV0FLNUIsSUFBSUMsWUFDQUMsTUFBUSxPQUNaLFdBQ0lDLE9BQU9DLFNBQ0hDLGFBQWUsRUFDZkMsT0FBUyxFQUNUQyxhQUFlLEVBQ2ZDLGNBQWlCLHFCQUNqQkMsUUFBVyxLQUNYQyxhQUFnQixNQUNoQkMsYUFBZ0IsT0FDaEJDLFFBQVcsT0FDWEMsZ0JBQW1CLE9BQ25CQyxXQUFjLFFBQ2RDLFdBQWMsU0FDZEMsV0FBYyxTQUNkQyxXQUFjLFVBRWxCLElBQUlDLElBQ0FDLE1BQU8sR0FDUEMsT0FBUSxHQUNSQyxNQUFPLEVBQ1BDLE9BQVEsR0FDUkMsUUFBUyxFQUNUQyxPQUFRLEVBQ1JDLE1BQU8sT0FDUEMsTUFBTyxFQUNQQyxNQUFPLEdBQ1BDLFFBQVEsRUFDUkMsU0FBUyxFQUVUQyxPQUFRLElBQ1JDLElBQUssTUFDTEMsS0FBTSxPQUdOQyxFQUFhLElBQ2pCaEMsU0FBUWlDLEtBQU8sV0FDWCxHQUFJQyxHQUFjQyxTQUFTQyxlQUFlLFVBQ3hCLE9BQWRKLEVBQ0FBLEVB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RixRQUFRNEMsT0FDUjRDLEVBQU1TLFFBQVFMLEtBQ2ZNLE1BQU0sU0FBU04sR0FDZDVGLFFBQVE0QyxPQUNSNEMsRUFBTVcsT0FBT1AsS0FFZEosRUFBTVksU0FHakJkLEVBQVMrRCxXQUFhLFNBQVNGLEdBQzNCbkosUUFBUWlDLE1BQ1IsSUFBSXVELEdBQVFILEVBQUdHLE9BZ0JmLE9BZklKLElBQ0lLLE9BQVEsTUFDUkMsSUFBSyxnQkFBZ0J5RCxFQUNyQnhELFlBQWEsa0NBQ2JFLFNBQVUsT0FDVkMsU0FDSUMseUJBQTRCOUYsU0FFakMrRixRQUFRLFNBQVNKLEdBQ2hCNUYsUUFBUTRDLE9BQ1I0QyxFQUFNUyxRQUFRTCxLQUNmTSxNQUFNLFNBQVNOLEdBQ2Q1RixRQUFRNEMsT0FDUjRDLEVBQU1XLE9BQU9QLEtBRWRKLEVBQU1ZLFNBR2pCZCxFQUFTaUUsYUFBZSxTQUFTaEUsRUFBSTRELEdBQ2pDbkosUUFBUWlDLE1BQ1IsSUFBSXVELEdBQVFILEVBQUdHLE9BaUJmLE9BaEJJSixJQUNJSyxPQUFRLE9BQ1JDLElBQUssa0JBQWtCeUQsRUFDdkJ2RCxNQUFRM0MsS0FBTXNDLEVBQUl0QyxLQUFNcUgsUUFBUy9FLEVBQUkrRSxTQUNyQzNFLFlBQWEsa0NBQ2JFLFNBQVUsT0FDVkMsU0FDSUMseUJBQTRCOUYsU0FFakMrRixRQUFRLFNBQVNKLEdBQ2hCNUYsUUFBUTRDLE9BQ1I0QyxFQUFNUyxRQUFRTCxLQUNmTSxNQUFNLFNBQVNOLEdBQ2Q1RixRQUFRNEMsT0FDUjRDLEVBQU1XLE9BQU9QLEtBRWRKLEVBQU1ZLFNBR1ZkIiwiZmlsZSI6ImFsbGphdmFzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0ge307XHJcbihmdW5jdGlvbigpIHtcclxuICAgICAgICBhcHAgPSBhbmd1bGFyLm1vZHVsZShcIk1haW5BcHBcIiwgWyduZ1JvdXRlJywgJ25nU2FuaXRpemUnLCAnbmdSZXNvdXJjZScsICduZ0FuaW1hdGUnLCAnbWdjcmVhLm5nU3RyYXAnXSk7XHJcbiAgICAgICAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZShmYWxzZSkuaGFzaFByZWZpeCgnIScpO1xyXG4gICAgICAgICAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgICAgICAud2hlbihcIi9cIix7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9pbmRleC5odG1sJywgY29udHJvbGxlcjogJ21haW5DdHJsJ1xyXG4gICAgICAgICAgICB9KS53aGVuKFwiL3NhbXBsZVwiLHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3NhbXBsZS9zYW1wbGUuaHRtbCcsIGNvbnRyb2xsZXI6ICdzYW1wbGVDdHJsJ1xyXG4gICAgICAgICAgICB9KS53aGVuKFwiL3NjcnViXCIse1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvU2NydWJEb21haW4vc2NydWJkb21haW4uaHRtbCcsIGNvbnRyb2xsZXI6ICdzY3J1YkN0cmwnXHJcbiAgICAgICAgICAgIH0pLndoZW4oXCIvdmVyaWZpY2F0aW9uXCIse1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3MvVmVydGlmaWNhdGlvbi9WZXJ0aWZpQ2F0aW9uLmh0bWwnLCBjb250cm9sbGVyOiAndmVyaWZpY2F0aW9uQ3RybCdcclxuICAgICAgICAgICAgfSkub3RoZXJ3aXNlKHtcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86IFwiL1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4pKCk7XG52YXIgc3Bpbm5lciA9IHt9O1xyXG52YXIgdG9rZW4gPSBcIlhYWFwiO1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICAgICBcImNsb3NlQnV0dG9uXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiZGVidWdcIjogZmFsc2UsXHJcbiAgICAgICAgXCJwcm9ncmVzc0JhclwiOiBmYWxzZSxcclxuICAgICAgICBcInBvc2l0aW9uQ2xhc3NcIjogXCJ0b2FzdC1ib3R0b20tcmlnaHRcIixcclxuICAgICAgICBcIm9uY2xpY2tcIjogbnVsbCxcclxuICAgICAgICBcInNob3dEdXJhdGlvblwiOiBcIjMwMFwiLFxyXG4gICAgICAgIFwiaGlkZUR1cmF0aW9uXCI6IFwiMTAwMFwiLFxyXG4gICAgICAgIFwidGltZU91dFwiOiBcIjUwMDBcIixcclxuICAgICAgICBcImV4dGVuZGVkVGltZU91dFwiOiBcIjEwMDBcIixcclxuICAgICAgICBcInNob3dFYXNpbmdcIjogXCJzd2luZ1wiLFxyXG4gICAgICAgIFwiaGlkZUVhc2luZ1wiOiBcImxpbmVhclwiLFxyXG4gICAgICAgIFwic2hvd01ldGhvZFwiOiBcImZhZGVJblwiLFxyXG4gICAgICAgIFwiaGlkZU1ldGhvZFwiOiBcImZhZGVPdXRcIlxyXG4gICAgfTtcclxuICAgIHZhciBvcHRTcGluZXJNb2RhbCA9IHtcclxuICAgICAgICBsaW5lczogMTEsIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xyXG4gICAgICAgIGxlbmd0aDogMjMsIC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXHJcbiAgICAgICAgd2lkdGg6IDgsIC8vIFRoZSBsaW5lIHRoaWNrbmVzc1xyXG4gICAgICAgIHJhZGl1czogNDAsIC8vIFRoZSByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxyXG4gICAgICAgIGNvcm5lcnM6IDEsIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXHJcbiAgICAgICAgcm90YXRlOiA5LCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XHJcbiAgICAgICAgY29sb3I6ICcjRkZGJywgLy8gI3JnYiBvciAjcnJnZ2JiXHJcbiAgICAgICAgc3BlZWQ6IDEsIC8vIFJvdW5kcyBwZXIgc2Vjb25kXHJcbiAgICAgICAgdHJhaWw6IDUwLCAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxyXG4gICAgICAgIHNoYWRvdzogZmFsc2UsIC8vIFdoZXRoZXIgdG8gcmVuZGVyIGEgc2hhZG93XHJcbiAgICAgICAgaHdhY2NlbDogdHJ1ZSwgLy8gV2hldGhlciB0byB1c2UgaGFyZHdhcmUgYWNjZWxlcmF0aW9uXHJcbiAgICAgICAgLy9jbGFzc05hbWU6ICdzcGlubmVyJywgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcclxuICAgICAgICB6SW5kZXg6IDJlOSwgLy8gVGhlIHotaW5kZXggKGRlZmF1bHRzIHRvIDIwMDAwMDAwMDApXHJcbiAgICAgICAgdG9wOiAnNTAlJywgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudCBpbiBweFxyXG4gICAgICAgIGxlZnQ6ICc1MCUnIC8vIExlZnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gcGFyZW50IGluIHB4XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzcGlubmVyT2JqID0gbnVsbDtcclxuICAgIHNwaW5uZXIuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc3Bpbm5lcl9kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Bpbm5lcicpO1xyXG4gICAgICAgIGlmIChzcGlubmVyT2JqID09IG51bGwpIHtcclxuICAgICAgICAgICAgc3Bpbm5lck9iaiA9IG5ldyBTcGlubmVyKG9wdFNwaW5lck1vZGFsKS5zcGluKHNwaW5uZXJfZGl2KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzcGlubmVyT2JqLnNwaW4oc3Bpbm5lcl9kaXYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkLmJsb2NrVUkoe21lc3NhZ2U6IG51bGwsIG92ZXJsYXlDU1M6IHtiYWNrZ3JvdW5kQ29sb3I6ICcjNWM1YzVjJ319KTtcclxuICAgIH1cclxuXHJcbiAgICBzcGlubmVyLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNwaW5uZXJfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwaW5uZXInKTtcclxuICAgICAgICBzcGlubmVyT2JqLnN0b3Aoc3Bpbm5lcl9kaXYpO1xyXG4gICAgICAgICQudW5ibG9ja1VJKCk7XHJcbiAgICB9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcbiAgICBhcHAuY29udHJvbGxlcihcImdsb2JhbEN0cmxcIiwgZnVuY3Rpb24gKCRzY29wZSkge1xyXG4gICAgICAgICRzY29wZS5wYWdlRGF0YSA9IFtcclxuICAgICAgICAgICAge05hbWU6ICdIb21lJ30sXHJcbiAgICAgICAgICAgIHtOYW1lOiAnU2FtcGxlJ31cclxuICAgICAgICBdO1xyXG4gICAgICAgICRzY29wZS5kaXJlY3RpdmVUZXN0ID0gXCJIRUxMTyBXT1JMRFwiO1xyXG4gICAgfSk7XHJcbn0pKCk7XG4oZnVuY3Rpb24oKXtcclxuICAgIGFwcC5kaXJlY3RpdmUoJ2RpcmVjdGl2ZVNhbXBsZScsZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBRUMnLFxyXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXHJcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxyXG4gICAgICAgICAgICAvL3RlbXBsYXRlIDogXCJcIixcclxuICAgICAgICAgICAgLy90ZW1wbGF0ZVVybCA6IFwiXCIsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChuZ01vZGVsLiR2aWV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG4gICAgRGF0ZS5wcm90b3R5cGUuYWRkSG91cnM9IGZ1bmN0aW9uKGgpe1xyXG4gICAgICAgIHRoaXMuc2V0SG91cnModGhpcy5nZXRIb3VycygpK2gpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgYXBwLmZpbHRlcignRGF0ZVRyaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGF0ZUNhbCA9IGlucHV0LmFkZEhvdXJzKDcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVDYWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuICAgIGFwcC5jb250cm9sbGVyKCdzY3J1YkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWwsIHNjcnViU2VydmljZSkge1xyXG5cclxuICAgICAgICAkc2NvcGUuU2NydWIgPXt9O1xyXG4gICAgICAgICRzY29wZS5zZXRTY3J1YkRvbWFpbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBGaWxlcGF0aCA9IFwiQzovVXNlcnMvYml3L0Rlc2t0b3AvU2NydWJGaWxlL3NjcnViRXhwb3J0LnR4dFwiO1xyXG4gICAgICAgICAgICBzY3J1YlNlcnZpY2Uuc2V0U2NydWJEb21haW4oRmlsZXBhdGgpLnRoZW4oZnVuY3Rpb24oZmlsZXBhdGgpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZXBhdGgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuZmFjdG9yeSgnc2NydWJTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwLCRxKSB7XHJcbiAgICAgICAgdmFyIHRoaXNmYWN0ID0ge307XHJcblxyXG4gICAgICAgIHRoaXNmYWN0LnNldFNjcnViRG9tYWluID0gZnVuY3Rpb24ob2JqKXtcclxuICAgICAgICAgICAgc3Bpbm5lci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2NydWIvc2V0U2NydWJEb21haW4nLFxyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHsgZmlsZXBhdGg6IG9ian0sXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdSZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4nOiB0b2tlblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzZmFjdDtcclxuXHJcbiAgICB9KTtcclxufSkoKTtcbiFmdW5jdGlvbihuKXtmdW5jdGlvbiByKG8pe2lmKHRbb10pcmV0dXJuIHRbb10uZXhwb3J0czt2YXIgZT10W29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbltvXS5jYWxsKGUuZXhwb3J0cyxlLGUuZXhwb3J0cyxyKSxlLmw9ITAsZS5leHBvcnRzfXZhciB0PXt9O3IubT1uLHIuYz10LHIuZD1mdW5jdGlvbihuLHQsbyl7ci5vKG4sdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpvfSl9LHIubj1mdW5jdGlvbihuKXt2YXIgdD1uJiZuLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbi5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBufTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKG4scil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpfSxyLnA9XCJcIixyKHIucz0wKX0oW2Z1bmN0aW9uKG4scix0KXshZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIG1vZHVsZSBcImJhYmVsLXBvbHlmaWxsXCInKX0oKSxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgbW9kdWxlIFwiL3Byb2plY3QvcHVibGljL2pzL2FwcC5qc1wiJyl9KCl9XSk7XG4oZnVuY3Rpb24oKXtcclxuICAgIGFwcC5mYWN0b3J5KCdzZWFyY2hFbmdpbmVTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwLCRxKSB7XHJcbiAgICAgICAgdmFyIHRoaXNmYWN0ID0ge307XHJcbiAgICAgICAgdGhpc2ZhY3QuYWRkS2V5d29yZCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBzcGlubmVyLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvc2VhcmNoZW5naW5lL2FkZEtleXdvcmQnLFxyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcclxuICAgICAgICAgICAgICAgIGRhdGEgOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJzogdG9rZW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNmYWN0O1xyXG4gICAgfSk7XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcbiAgICBhcHAuY29udHJvbGxlcigndmVyaWZpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbCwgdmVyaWZpY2F0aW9uU2VydmljZSkge1xyXG5cclxuICAgICAgICAkc2NvcGUuc2V0RmlsZVBhdGggPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgZ2V0ZmlsZXBhdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0RmlsZScpLnZhbHVlO1xyXG4gICAgICAgICAgICBpZihnZXRmaWxlcGF0aCE9PSB1bmRlZmluZWQgJiYgZ2V0ZmlsZXBhdGghPVwiXCIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBnZXRmaWxlcGF0aC5zcGxpdChcIlxcXFxcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZXBhdGggPSBcIkQ6L1wiICsgZmlsZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVwYXRoKTtcclxuICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvblNlcnZpY2UuRmluZFRoaXNEYXRhKGZpbGVwYXRoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuZmFjdG9yeSgndmVyaWZpY2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkaHR0cCwkcSkge1xyXG4gICAgICAgIHZhciB0aGlzZmFjdCA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzZmFjdC5GaW5kVGhpc0RhdGEgPSBmdW5jdGlvbihvYmope1xyXG4gICAgICAgICAgICBzcGlubmVyLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogJy92ZXJpZmljYXRpb24vRmluZFRoaXNEYXRhJyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGZpbGVwYXRoOiBvYmp9LFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJzogdG9rZW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpc2ZhY3Q7XHJcblxyXG4gICAgfSk7XHJcbn0pKCk7XG4oZnVuY3Rpb24oKXtcbiAgICBhcHAuY29udHJvbGxlcignbWFpbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLG1haW5TZXJ2aWNlKSB7XG4gICAgICAgICRzY29wZS5hY3RpdmVQYWdlID0gMTsgLy8gSG9tZVxuICAgICAgICAkc2NvcGUuaW5pdE1UID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtYWluU2VydmljZS5HZXRTYW1wbGUoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRlc3REYXRhID0gZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0pO1xufSkoKTtcbihmdW5jdGlvbigpe1xyXG4gICAgYXBwLmZhY3RvcnkoJ21haW5TZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwLCRxKSB7XHJcbiAgICAgICAgdmFyIHRoaXNmYWN0ID0ge307XHJcbiAgICAgICAgdGhpc2ZhY3QuR2V0U2FtcGxlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc3Bpbm5lci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICRodHRwKHttZXRob2Q6ICdHRVQnLCB1cmw6ICcvc2FtcGxlJ30pLlxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pLlxyXG4gICAgICAgICAgICAgICAgZXJyb3IoZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNmYWN0O1xyXG5cclxuICAgIH0pO1xyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG4gICAgYXBwLmNvbnRyb2xsZXIoJ3NhbXBsZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWwsIHNhbXBsZVNlcnZpY2UpIHtcclxuICAgICAgICAkc2NvcGUuYWN0aXZlUGFnZSA9IDI7IC8vXCJTYW1wbGVcIjtcclxuICAgICAgICAkc2NvcGUucmVhZFNhbXBsZURhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgLy8vLS0tLS0tLS0tLS0tIENyZWF0ZSBTZWN0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICRzY29wZS5jcmVhdGVTYW1wbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UuY3JlYXRlU2FtcGxlKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9IFwiRVJST1JcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCfguIHguLLguKPguJrguLHguJnguJfguLbguIHguKrguLPguYDguKPguYfguIgnLCAn4LiB4Liy4Lij4Lia4Lix4LiZ4LiX4Li24LiB4LiC4LmJ4Lit4Lih4Li54LilJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlYWRTYW1wbGVEYXRhLnB1c2gocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+C4geC4suC4o+C4muC4seC4meC4l+C4tuC4geC4nOC4tOC4lOC4nuC4peC4suC4lCcgKyByZXN1bHQsICfguIHguLLguKPguJrguLHguJnguJfguLbguIHguILguYnguK3guKHguLnguKUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5jcmVhdGVOZXdTYW1wbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UuY3JlYXRlTmV3U2FtcGxlKCRzY29wZS5tb2RhbERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBcIkVSUk9SXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcygn4LiB4Liy4Lij4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIJywgJ+C4geC4suC4o+C4muC4seC4meC4l+C4tuC4geC4guC5ieC4reC4oeC4ueC4pScpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZWFkU2FtcGxlRGF0YS5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfguIHguLLguKPguJvguKPguLHguJrguJvguKPguLjguIfguJzguLTguJTguJ7guKXguLLguJQnICsgcmVzdWx0LCAn4LiB4Liy4Lij4Lib4Lij4Lix4Lia4Lib4Lij4Li44LiH4Lic4Li04LiU4Lie4Lil4Liy4LiUJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIC8vLy0tLS0tLS0tLS0tLS0gUmVhZCBTZWN0aW9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAkc2NvcGUubW9kYWxEYXRhID0ge307XHJcbiAgICAgICAgJHNjb3BlLnJlYWQgPSBmdW5jdGlvbiAoaWQsIGNiKSB7XHJcbiAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UucmVhZFNhbXBsZShpZCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjYihyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnJlYWRBbGxTYW1wbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UucmVhZEFsbFNhbXBsZSgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBcIkVSUk9SXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVhZFNhbXBsZURhdGEgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfguIHguLLguKPguK3guYjguLLguJnguILguYnguK3guKHguLnguKXguJzguLTguJTguJ7guKXguLLguJQnICsgcmVzdWx0LCAn4LiB4Liy4Lij4Lit4LmI4Liy4LiZ4LiC4LmJ4Lit4Lih4Li54Lil4Lic4Li04LiU4Lie4Lil4Liy4LiUJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUT0RPIDogUGFnaW5hdGlvbiBTZXJ2ZXJzaWRlIFJlYWREYXRhXHJcblxyXG4gICAgICAgIC8vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8vLS0tLS0tLS0tLS0tLSBVcGRhdGUgU2VjdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICRzY29wZS51cGRhdGVTYW1wbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9ICRzY29wZS5jdXJyZW50SUQ7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UudXBkYXRlU2FtcGxlKCRzY29wZS5tb2RhbERhdGEsIGlkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gXCJFUlJPUlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlYWRTYW1wbGVEYXRhW2luZGV4XSA9ICRzY29wZS5tb2RhbERhdGE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfguIHguLLguKPguJvguKPguLHguJrguJvguKPguLjguIfguJzguLTguJTguJ7guKXguLLguJQnICsgcmVzdWx0LCAn4LiB4Liy4Lij4Lib4Lij4Lix4Lia4Lib4Lij4Li44LiH4Lic4Li04LiU4Lie4Lil4Liy4LiUJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgICAgLy8vLS0tLS0tLS0tLS0tLSBEZWxldGUgU2VjdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICRzY29wZS5kZWxldGVDb25maXJtID0gZnVuY3Rpb24gKGlkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudElEID0gaWQ7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50SW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgJG1vZGFsKHtzY29wZTogJHNjb3BlLCB0ZW1wbGF0ZTogJy92aWV3cy9zYW1wbGUvbW9kYWwvc2FtcGxlQ29uZmlybS5odG1sJywgc2hvdzogdHJ1ZX0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmRlbGV0ZVNhbXBsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gJHNjb3BlLmN1cnJlbnRJRDtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmN1cnJlbnRJbmRleDtcclxuXHJcbiAgICAgICAgICAgIHNhbXBsZVNlcnZpY2UuZGVsZXRlU2FtcGxlKGlkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gXCJFUlJPUlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlYWRTYW1wbGVEYXRhLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCfguIHguLLguKPguKXguJrguJzguLTguJTguJ7guKXguLLguJQnICsgcmVzdWx0LCAn4LiB4Liy4Lij4Lil4Lia4Lic4Li04LiU4Lie4Lil4Liy4LiUJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgIC8vLy0tLS0tLS0tLS0tLS0tIE90aGVyIFNlY3Rpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAkc2NvcGUuY2hlY2tEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKCRzY29wZS5tb2RhbE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjcmVhdGVcIiA6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU5ld1NhbXBsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImVkaXRcIiA6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVNhbXBsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRzY29wZS5zaG93U2FtcGxlID0gZnVuY3Rpb24gKHR5cGUsIGlkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubW9kYWxNb2RlID0gdHlwZTtcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRJRCA9IGlkO1xyXG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHZhciBteU90aGVyTW9kYWwgPSAkbW9kYWwoe3Njb3BlOiAkc2NvcGUsIHRlbXBsYXRlOiAnL3ZpZXdzL3NhbXBsZS9tb2RhbC9zYW1wbGVNb2RhbC5odG1sJywgc2hvdzogZmFsc2V9KTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY3JlYXRlJyA6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGFsRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbERhdGEucmVhZE9ubHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBteU90aGVyTW9kYWwuJHByb21pc2UudGhlbihteU90aGVyTW9kYWwuc2hvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaG93JyA6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlYWQoaWQsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBcIkVSUk9SXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15T3RoZXJNb2RhbC4kcHJvbWlzZS50aGVuKG15T3RoZXJNb2RhbC5zaG93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbERhdGEgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kYWxEYXRhLmJDcmVhdGUgPSBKU09OLnBhcnNlKHJlc3VsdC5iQ3JlYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbERhdGEucmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+C4geC4suC4o+C4reC5iOC4suC4meC4guC5ieC4reC4oeC4ueC4peC4nOC4tOC4lOC4nuC4peC4suC4lCcgKyByZXN1bHQsICfguIHguLLguKPguK3guYjguLLguJnguILguYnguK3guKHguLnguKXguJzguLTguJTguJ7guKXguLLguJQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VkaXQnIDpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVhZChpZCwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9IFwiRVJST1JcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlPdGhlck1vZGFsLiRwcm9taXNlLnRoZW4obXlPdGhlck1vZGFsLnNob3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGFsRGF0YSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RhbERhdGEuYkNyZWF0ZSA9IEpTT04ucGFyc2UocmVzdWx0LmJDcmVhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGFsRGF0YS5yZWFkT25seSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ+C4geC4suC4o+C4reC5iOC4suC4meC4guC5ieC4reC4oeC4ueC4peC4nOC4tOC4lOC4nuC4peC4suC4lCcgKyByZXN1bHQsICfguIHguLLguKPguK3guYjguLLguJnguILguYnguK3guKHguLnguKXguJzguLTguJTguJ7guKXguLLguJQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICB9KTtcclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKXtcclxuICAgIGFwcC5mYWN0b3J5KCdzYW1wbGVTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwLCRxKSB7XHJcbiAgICAgICAgdmFyIHRoaXNmYWN0ID0ge307XHJcbiAgICAgICAgdGhpc2ZhY3QuY3JlYXRlU2FtcGxlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc3Bpbm5lci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9zYW1wbGUvY3JlYXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJzogdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzZmFjdC5jcmVhdGVOZXdTYW1wbGUgPSBmdW5jdGlvbihvYmope1xyXG4gICAgICAgICAgICBzcGlubmVyLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgJGh0dHAoe1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIHVybDogJy9zYW1wbGUvY3JlYXRlbmV3JyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IE5hbWU6IG9iai5OYW1lLCBiQ3JlYXRlOiBvYmouYkNyZWF0ZX0sXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdSZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4nOiB0b2tlblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzZmFjdC5yZWFkQWxsU2FtcGxlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc3Bpbm5lci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cChcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9zYW1wbGUvcmVhZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbic6IHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpc2ZhY3QuZGVsZXRlU2FtcGxlID0gZnVuY3Rpb24oaWQpe1xyXG4gICAgICAgICAgICBzcGlubmVyLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9zYW1wbGUvZGVsZXRlLycraWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbic6IHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpc2ZhY3QucmVhZFNhbXBsZSA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICAgICAgc3Bpbm5lci5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvc2FtcGxlL3JlYWQvJytpZCxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJzogdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzZmFjdC51cGRhdGVTYW1wbGUgPSBmdW5jdGlvbihvYmosaWQpe1xyXG4gICAgICAgICAgICBzcGlubmVyLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgICRodHRwKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9zYW1wbGUvdXBkYXRlLycraWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBOYW1lOiBvYmouTmFtZSwgYkNyZWF0ZTogb2JqLmJDcmVhdGV9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4nOiB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzZmFjdDtcclxuXHJcbiAgICB9KTtcclxufSkoKTsiXX0=
